# RAVIMOSHARK - APIS - PIECE - LIBS - TYPESCRIPT

> The **main repository** is hosted in [gitlab.com/ravimosharksas](https://gitlab.com/ravimosharksas/apis/piece/libs/typescript.git) but it is automatically mirrored to [github.com/RavimoShark](https://github.com/RavimoShark/apis-piece-libs-typescript.git), [gitlab.com/singletonsd](https://gitlab.com/singletonsd/ravimosharksas/apis/piece/libs/typescript.git), [github.com/singletonsd](https://github.com/singletonsd/ravimoshark-apis-piece-libs-typescript.git), [github.com/patoperpetua](https://github.com/patoperpetua/ravimoshark-apis-piece-libs-typescript.git) and to [gitlab.com/patoperpetua](https://gitlab.com/patoperpetua/ravimoshark-apis-piece-libs-typescript.git). If you are in the Github page it may occur that is not updated to the last version.

## LIBRARY NAME: [@ravimosharksas/apis-piece-libs-typescript](https://www.npmjs.com/package/@ravimosharksas/apis-piece-libs-typescript)

Typescript client for Ravimoshark SAS Piece API designed by [Singleton SD](http://singletonsd.com). You can find out more about Swagger at [Singleton SD Web Page](http://singletonsd.com) or on [Ravimoshark Web Page](https://ravimoshark.com).
This SDK is automatically generated by the [Swagger Codegen](https://github.com/swagger-api/swagger-codegen) project:

- API version: 1.0.0
- Package version: 1.0.0

For more information, please visit [http://singletonsd.com/soporte](http://singletonsd.com/soporte)

This is an API to interact with Ravimoshark piece database. This API allow to create, modify and delete pieces and products (cards, details and key points).

This API does not contain any kind of user validation but It request to have a valid authentication user to interact with it.
For more information about user Authentication, please refer to [Ravimoshark User Authentication](https://ravimoshark.com/back/apis/auth/latest).

For more information, please visit [http://ravimoshark.com/contact](http://ravimoshark.com/contact)

## CONSUMING

Navigate to the folder of your consuming project and run one of next commands.

```javascript
npm install @ravimosharksas/apis-piece-libs-typescript --save
```

## GENERAL USAGE

In your Angular project:

```javascript
// without configuring providers
import { ApiModule } from '@ravimosharksas/apis-piece-libs-typescript';
import { HttpClientModule } from '@angular/common/http';


@NgModule({
    imports: [
        ApiModule,
        // make sure to import the HttpClientModule in the AppModule only,
        // see https://github.com/angular/angular/issues/20575
        HttpClientModule
    ],
    declarations: [ AppComponent ],
    providers: [],
    bootstrap: [ AppComponent ]
})
export class AppModule {}
```

```javascript
// configuring providers
import { ApiModule, Configuration, ConfigurationParameters } from '@ravimosharksas/apis-piece-libs-typescript';

export function apiConfigFactory (): Configuration => {
  const params: ConfigurationParameters = {
    // set configuration parameters here.
  }
  return new Configuration(params);
}

@NgModule({
    imports: [ ApiModule.forRoot(apiConfigFactory) ],
    declarations: [ AppComponent ],
    providers: [],
    bootstrap: [ AppComponent ]
})
export class AppModule {}
```

```javascript
import { DefaultApi } from '@ravimosharksas/apis-piece-libs-typescript';

export class AppComponent {
  constructor(private apiGateway: DefaultApi) { }
}
```

Note: The ApiModule is restricted to being instantiated once app wide.
This is to ensure that all services are treated as singletons.

### Using multiple swagger files / APIs / ApiModules

In order to use multiple `ApiModules` generated from different swagger files,
you can create an alias name when importing the modules
in order to avoid naming conflicts:

```javascript
import { ApiModule } from 'my-api-path';
import { ApiModule as OtherApiModule } from 'my-other-api-path';
import { HttpClientModule } from '@angular/common/http';


@NgModule({
  imports: [
    ApiModule,
    OtherApiModule,
    // make sure to import the HttpClientModule in the AppModule only,
    // see https://github.com/angular/angular/issues/20575
    HttpClientModule
  ]
})
export class AppModule {

}
```

### Set service base path

If different than the generated base path, during app bootstrap, you can provide the base path to your service.

```javascript
import { BASE_PATH } from '@ravimosharksas/apis-piece-libs-typescript';

bootstrap(AppComponent, [
    { provide: BASE_PATH, useValue: 'https://your-web-service.com' },
]);
```

or

```javascript
import { BASE_PATH } from '@ravimosharksas/apis-piece-libs-typescript';

@NgModule({
    imports: [],
    declarations: [ AppComponent ],
    providers: [ provide: BASE_PATH, useValue: 'https://your-web-service.com' ],
    bootstrap: [ AppComponent ]
})
export class AppModule {}
```

#### Using @angular/cli

First extend your `src/environments/*.ts` files by adding the corresponding base path:

```javascript
export const environment = {
  production: false,
  API_BASE_PATH: 'http://127.0.0.1:8080'
};
```

In the src/app/app.module.ts:

```javascript
import { BASE_PATH } from '@ravimosharksas/apis-piece-libs-typescript';
import { environment } from '../environments/environment';

@NgModule({
  declarations: [
    AppComponent
  ],
  imports: [ ],
  providers: [{ provide: BASE_PATH, useValue: environment.API_BASE_PATH }],
  bootstrap: [ AppComponent ]
})
export class AppModule { }
```

## Generate

To regenerate the library from spec, first create a .env file with the following content:

```bash
SWAGGER_API_SPEC="" #Default value: ../../documentation/dist/openapi.yaml
```

And then just execute the following script:

```bash
mkdir -p scripts && \
curl -o scripts/swagger_binaries_downloader.sh -L https://singletonsd.gitlab.io/scripts/swagger/latest/swagger_binaries_downloader.sh && \
curl -o scripts/swagger_generate_angular.sh -L https://singletonsd.gitlab.io/scripts/swagger/latest/swagger_generate_angular.sh && \
chmod +x scripts/swagger_binaries_downloader.sh scripts/swagger_generate_angular.sh && \
./scripts/swagger_generate_angular.sh
```

----------------------

Â© [Singleton SD](http://singletonsd.com), France, 2019.
